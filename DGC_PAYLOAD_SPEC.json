{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://dharmic-agora.ai/schemas/dgc-signal.v1.json",
  "title": "DGC Signal Request",
  "description": "Schema for DGC (Dharmic Godel Claw) coherence scores ingested by SAB (Dharmic Agora)",
  "type": "object",
  "required": [
    "event_id",
    "schema_version",
    "timestamp",
    "gate_scores"
  ],
  "properties": {
    "event_id": {
      "type": "string",
      "description": "Unique identifier for this DGC event",
      "minLength": 3,
      "maxLength": 160
    },
    "schema_version": {
      "type": "string",
      "description": "DGC schema version - must be exactly 'dgc.v1'",
      "enum": ["dgc.v1"]
    },
    "timestamp": {
      "type": "string",
      "description": "ISO8601 timestamp of DGC evaluation",
      "format": "date-time"
    },
    "task_id": {
      "type": ["string", "null"],
      "description": "Optional task identifier"
    },
    "task_type": {
      "type": ["string", "null"],
      "description": "Optional task classification"
    },
    "artifact_id": {
      "type": ["string", "null"],
      "description": "Optional artifact reference"
    },
    "source_alias": {
      "type": ["string", "null"],
      "description": "Optional source system identifier"
    },
    "gate_scores": {
      "type": "object",
      "description": "DGC dimension scores - must be non-empty, all values in [0,1]",
      "minProperties": 1,
      "additionalProperties": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      },
      "example": {
        "satya": 0.85,
        "ahimsa": 0.92,
        "substance": 0.78,
        "svadhyaya": 0.88,
        "tapas": 0.81
      }
    },
    "collapse_dimensions": {
      "type": ["object", "null"],
      "description": "Optional R_V collapse metrics",
      "additionalProperties": {
        "type": "number",
        "minimum": 0.0,
        "maximum": 1.0
      }
    },
    "mission_relevance": {
      "type": ["number", "null"],
      "description": "Optional mission alignment score [0,1]",
      "minimum": 0.0,
      "maximum": 1.0
    },
    "signature": {
      "type": ["string", "null"],
      "description": "Ed25519 signature (stored, not cryptographically verified in v1)"
    },
    "metadata": {
      "type": ["object", "null"],
      "description": "Optional additional context (bounded size)"
    }
  },
  "additionalProperties": false
}
